{% extends 'base.html' %}
<!-- X -->
{% block headExtra %} {% load static %}
<script src="{% static '/js/mlapp1/form.js' %}" type="text/javascript"></script>
{% endblock headExtra %}
<!-- X -->
{% block content %} {% if user.is_authenticated %}
<div class="form-page">
  <div class="form">
    <form id="ml1-form" class="ml1-form" method="post" enctype="multipart/form-data">
      {% csrf_token %}
      <p>
        <span class="lang-l-step1"></span>
        <br /><br />
        <label for="id_title"><span class="lang-l-title"></span></label> 
        <input type="text" name="title" maxlength="64" required id="id_title">
        <input type="file" name="image" accept="image/*" id="id_image">
      </p>
      <p>
        <span class="lang-l-step2"></span>
        <br /><br />
        <button type="submit"><span class="lang-g-upload"></span></button>
      </p>
      {% if img_obj %}
      <br /><br />
      <span class="lang-l-step3"></span>
      <h3><span class="lang-l-upTitle"></span> {{img_obj.title}}</h3>
      <img src="{{ img_obj.image.url}}" alt="connect" style="max-width :300px">
      <br /><br />
      {% if retVal %}
      <br /><br />
      <span class="lang-l-{{ retVal }}"></span>
      {% else %}
      Some error occured, try again later...
      {% endif %}
      {% endif %}
    </form>
  </div>
</div>
{% else %}
<div class="home-page">
  <div class="form">
    <p>
      <span class="lang-l-text1"></span>
      <br />
      <span class="lang-l-text2"></span>
      <br />
      <span class="lang-l-author1"></span>
      <br />
      <span class="lang-l-author2"></span>
      <br />
      <span class="lang-l-author3"></span>
    </p>
    <br /><br />
    <a href="{% url 'login' %}"><button><span class="lang-g-login"></span></button></a>
    <br /><br />
    <a href="{% url 'signup' %}"><button><span class="lang-g-register"></span></button></a>
  </div>
</div>
{% endif %} {% endblock content %}




